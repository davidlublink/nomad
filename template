job "{{ printf .ID }}" {

datacenters = [{{range $index, $dc := .Datacenters}}{{if $index}},{{end}}"{{$dc}}"{{end}}]

namespace = "{{ .Namespace }}"

priority = {{ .Priority }}

region = "{{ .Region }}"


type = "{{ .Type }}"



{{range $index, $group := .TaskGroups}}

group "{{ $group.Name }}" {

  count = {{ $group.Count }}

  {{ range $innerIndex, $task := $group.Tasks}}

  task "{{ $task.Name }}" {
    driver = "{{ $task.Driver }}"

    config {
      command = "{{$task.Config.command}}"
      image = "{{$task.Config.image}}"
      args = [{{range $index, $arg := $task.Config.args}}{{if $index}},{{end}}"{{$arg}}"{{end}}]
    }
    
  }
    {{/* printf "%#v" $task */}}
  {{ end }}



}

{{ end }}


}